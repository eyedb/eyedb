SUBDIRS=dspsch

#
# Programs
#

#noinst_PROGRAMS= dsptest

# The last directory is needed for endian.h, which is generated by configure.in
#INCLUDES=-I$(top_srcdir)/src -I$(top_srcdir)/include -I$(top_builddir)/include

#EYEDBLIBS=$(top_builddir)/src/eyedbsm/libeyedb.la $(top_builddir)/src/eyedbsm/libeyedbsm.la  $(top_builddir)/src/lib/libeyedbrpcfe.la $(top_builddir)/src/lib/libeyedbutils.la @EYEDB_SYSLIBS@

#dsptest_SOURCES= dsptest.cc

#
# Java classes
#
JAVA_FILES= TestDataspace.java

JAVAROOT=$(top_builddir)/tests/eyedb/dataspace
CLASSPATH_ENV= CLASSPATH=$(JAVAROOT):$(top_srcdir)/tests/eyedb/dataspace:$(top_builddir)/src/java/eyedb.jar

EXTRA_DIST=$(JAVA_FILES) dspsch.odl fill.oql 

check-local: class.stamp
class.stamp: $(JAVA_FILES)
	$(CLASSPATH_ENV) $(JAVAC) -d $(JAVAROOT) $(AM_JAVACFLAGS) $(JAVACFLAGS) $?
	touch class.stamp

clean-local:
	-rm -f class.stamp *.class

#
# Scripts to be copied to build directory
#

nodist_noinst_SCRIPTS= build_db1.sh 
dist_noinst_SCRIPTS= build_db.sh

build_db1.sh: $(top_srcdir)/tests/eyedb/dataspace/build_db.sh
	cp $(top_srcdir)/tests/eyedb/dataspace/build_db.sh $(top_builddir)/tests/eyedb/dataspace/build_db1.sh

